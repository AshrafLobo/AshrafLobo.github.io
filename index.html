<!DOCTYPE html><html lang="en"><head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta name="Description" content="Coronavirus impact estimator. It calculates the total number of beds required after a given number of days"> <meta name="keywords" content="Corona, coronavirus, covid-19, estimator, coronavirus calculator, coronavirus estimator"> <meta name="author" content="Ashraf Lobo"> <style></style> <title>Covid-19 Estimator</title></head><body> <nav> <a href="#">Covid-19 Estimator</a> </nav> <div class="container"> <h1>COVID-19 ESTIMATOR</h1> <hr> <form id="covidForm" novalidate> <div> <div> <fieldset> <legend>Regional data</legend> <div> <label for="region_name">Region</label> <select id="region_name" name="name" onblur="validateInput(this)" required> <option value="" selected disabled>Select a region</option> <option>Africa</option> <option>Asia</option> <option>Antarctica</option> <option>Australia</option> <option>Europe</option> <option>North America</option> <option>South America</option> </select> <div>Please fill out this field.</div></div><div> <label for="avg_age">Average age:</label> <input type="text" class="region_data" id="avg_age" placeholder="Enter average age" name="avgAge" pattern="[0-9]+.*" onblur="validateInput(this)" required> <div>Please fill out this field.</div></div><div> <label for="avg_daily_income_USD">Average daily income in USD:</label> <input type="text" class="region_data" id="avg_daily_income_USD" placeholder="Enter average daily income in USD" name="avgDailyIncomeUSD" pattern="[0-9]+.*" onblur="validateInput(this)" required> <div>Please fill out this field.</div></div><div> <label for="avg_daily_income_pop">Average daily income population:</label> <input type="text" class="region_data" id="avg_daily_income_pop" placeholder="Enter average daily income population" min="1" max="100" name="avgDailyIncomePopulation" pattern="[0-9]+.*" onblur="validateInput(this)" required> <div>Please fill out this field.</div></div></fieldset> </div><div> <fieldset> <legend>Additional data</legend> <div> <div> <label for="period_type">Period type:</label> <select id="period_type" name="periodType" pattern="[0-9]+" onblur="validateInput(this)" required data-period-type> <option value="" selected disabled>Select a time period</option> <option>days</option> <option>weeks</option> <option>months</option> </select> <div>Please fill out this field.</div></div><div> <label for="time_to_ellapse">Time to ellapse:</label> <input type="text" id="time_to_ellapse" placeholder="Time to ellapse" name="timeToElapse" pattern="[0-9]+" onblur="validateInput(this)" required data-time-to-elapse> <div>Please fill out this field.</div></div></div><div> <label for="reported_cases">Reported cases:</label> <input type="text" id="reported_cases" placeholder="Enter the reported cases" name="reportedCases" pattern="[0-9]+" onblur="validateInput(this)" required data-reported-cases> <div>Please fill out this field.</div></div><div> <label for="population">Population:</label> <input type="text" id="population" placeholder="Enter the population" name="population" pattern="[0-9]+" onblur="validateInput(this)" required data-population> <div>Please fill out this field.</div></div><div> <label for="total_hos_beds">Total hospital beds:</label> <input type="text" id="total_hos_beds" placeholder="Enter the total hospital beds" name="totalHospitalBbeds" pattern="[0-9]+" onblur="validateInput(this)" required data-total-hospital-beds> <div>Please fill out this field.</div></div></fieldset> </div></div><div> <button id="submit_covid_form" type="button" onclick="submitForm()" data-go-estimate>Submit</button> </div></form> </div><script>const covid19ImpactEstimator=(data)=>{const covidData={data, impact:{}, severeImpact:{}}; const{periodType, timeToElapse, reportedCases, totalHospitalBeds, region:{avgDailyIncomeInUSD, avgDailyIncomePopulation}}=covidData.data; let numberOfDays=0; switch (periodType){case 'weeks': numberOfDays=timeToElapse * 7; break; case 'months': numberOfDays=timeToElapse * 30; break; default: numberOfDays=timeToElapse;}const calcEstimation=(days, severe=false)=>{const impactGrp=severe ? ['severeImpact', 50] : ['impact', 10]; const impactData=covidData[impactGrp[0]]; impactData.currentlyInfected=reportedCases * impactGrp[1]; impactData.infectionsByRequestedTime=impactData.currentlyInfected * (2 ** Math.trunc(days / 3)); impactData.severeCasesByRequestedTime=Math.trunc(impactData.infectionsByRequestedTime * 0.15); impactData.hospitalBedsByRequestedTime=Math.trunc(totalHospitalBeds * 0.35 - impactData.severeCasesByRequestedTime); impactData.casesForICUByRequestedTime=Math.trunc(impactData.infectionsByRequestedTime * 0.05); impactData.casesForVentilatorsByRequestedTime=Math.trunc(impactData.infectionsByRequestedTime * 0.02); impactData.dollarsInFlight=Math.trunc((impactData.infectionsByRequestedTime * avgDailyIncomePopulation * avgDailyIncomeInUSD) / days);}; calcEstimation(numberOfDays); calcEstimation(numberOfDays, true); return covidData;}; // const validateInput=(input)=>{// if (input.value !="" && input.validity.valid){// input.classList.remove("is-invalid"); // input.classList.add("is-valid"); //}// else{// input.classList.add("is-invalid"); // input.classList.remove("is-valid"); //}// let validationMessage="Please fill out this field"; // const childNodes=input.parentNode.childNodes; // if (input.validity.patternMismatch){// validationMessage="Please enter a valid data" //}// for (child in childNodes){// if (childNodes[child].className==="invalid-feedback"){// childNodes[child].innerHTML=validationMessage; //}//}//}; const submitForm=()=>{let form=document.getElementById("covidForm"); let elements=form.elements; const covidData={region:{}}; for (element in elements){if (elements[element].value !=undefined){if (elements[element].classList.contains("region_data")){covidData.region[elements[element].name]=elements[element].value;}else{covidData[elements[element].name]=elements[element].value;}}}covid19ImpactEstimator(covidData);}; </script></body></html>